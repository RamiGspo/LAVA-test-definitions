device_type: &device_type RevPi_Core
job_name: Test LEDs - RevPi Core."
priority: medium
visibility: public

timeouts:
  job:
    minutes: 5
  action:
    minutes: 1
  connection:
    minutes: 2
actions:
- deploy:
    timeout:
      minutes: 4
    to: ssh
- boot:
    method: ssh
    connection: ssh
    prompts: ["root@RevPi[0-9]+:"]
    timeout:
      minutes: 5
- test:
    timeout:
      minutes: 5
    definitions:
    - repository: https://github.com/RevolutionPi/LAVA-test-definitions.git
      from: git
      path: automated/linux/leds/leds.yaml
      name: leds
      params:
        DUT: *device_type
